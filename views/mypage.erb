<div class="mypage-title ml-5">
  <h1>Logging in Guest : <%= @name %></h1>
</div>

<div class="mypage wrapper">
  <section>
    <h3>収入登録</h3>
    <table class="mb-5 table-bordered table-hover table-striped bg-light">
      <form action="/mypage" method="post" id="form1">
        <tr class="bg-secondary text-center">
          <th><label for="date_of_income">日付</label></th>
          <th><label for="income_type">項目</label></th>
          <th><label for="income">金額</label></th>
          <th>登録</th>
          <th>クリア</th>
        </tr>
        <tr>
          <td><input type="date" id="date_of_income" name="date_of_income"></td>
          <td>
            <select id="income_type" name="income_type">
              <option label="収入項目" selected></option>
              <option value="給与">給与</option>
              <option value="賞与">賞与</option>
              <option value="年金">年金</option>
              <option value="投資">投資</option>
              <option value="臨時">臨時</option>
              <option value="その他">その他</option>
            </select>
          </td>
          <td><input type="number" id="income" name="income"></td>
          <td><input type="submit" value="収入登録" form="form1"></td>
          <td><input type="reset" value="クリア"></td>
        </tr>
      </form>
    </table>

    <h3>支出登録</h3>
    <table class="mb-5 table-bordered table-hover table-striped bg-light">
      <form action="/mypage" method="post" id="form2">
        <tr class="bg-secondary text-center">
          <th><label for="date_of_expense">日付</label></th>
          <th><label for="expense_type">項目</label></th>
          <th><label for="expense">金額</label></th>
          <th>登録</th>
          <th>クリア</th>
        </tr>
        <tr>
          <td><input type="date" id="date_of_expense" name="date_of_expense"></td>
          <td>
            <select id="expense_type" name="expense_type">
              <option label="支出項目" selected></option>
              <option value="家賃">家賃</option>
              <option value="光熱水費">光熱水費</option>
              <option value="食費">食費</option>
              <option value="日用品費">日用品費</option>
              <option value="医療費">医療費</option>
              <option value="交通費">交通費</option>
              <option value="交際費">交際費</option>
              <option value="美容費">美容費</option>
              <option value="娯楽費">娯楽費</option>
              <option value="特別費">特別費</option>
              <option value="通信費">通信費</option>
              <option value="返済">返済</option>
              <option value="学費">学費</option>
              <option value="教育費">教育費</option>
              <option value="被服費">被服費</option>
            </select>
          </td>
          <td><input type="number" id="expense" name="expense"></td>
          <td><input type="submit" value="支出登録" form="form2"></td>
          <td><input type="reset" value="クリア"></td>
        </tr>
      </form>
    </table>
  </section>

  <section>
    <table class="mb-5 table-bordered table-hover table-striped bg-light">
      <div>
        <h3>収入一覧</h3>
        <tr class="bg-secondary text-center">
          <th class="px-2">日付</th>
          <th class="px-2">項目</th>
          <th class="px-2">金額</th>
          <th class="px-2">更新</th>
          <th class="px-2">削除</th>
        </tr>
        <% @incomes.each do |income| %>
        <% if !income['income'].nil? %>
        <div>
          <form action="/mypage" method="post">
            <input type="hidden" name="_method" value="PUT">
            <input type="hidden" id="current_id" name="current_id" value="<%= income['id'] %>">
            <tr>
              <td><input type="date" id="renewal_date_of_income" name="renewal_date_of_income"
                  value="<%= income['date_of_income']%>"></td>
              <td>
                <select id="renewal_income_type" name="renewal_income_type">
                  <option label="<%= income['income_type']%>"></option>
                  <option value="給与">給与</option>
                  <option value="賞与">賞与</option>
                  <option value="年金">年金</option>
                  <option value="投資">投資</option>
                  <option value="臨時">臨時</option>
                  <option value="その他">その他</option>
                </select>
              </td>
              <td><input type="number" id="renewal_income" name="renewal_income" value="<%= income['income'] %>"></td>
              <td><input type="submit" value="更新"></td>
          </form>
          <form action="/mypage" method="post">
            <input type="hidden" name="_method" value="DELETE">
            <input type="hidden" id="current_id" name="current_id" value="<%= income['id'] %>">
            <td><input type="submit" value="削除"></td>
            </tr>
          </form>
        </div>
        <% end %>
        <% end %>
      </div>
    </table>

    <table class="mb-5 table-bordered table-hover table-striped bg-light">
      <div>
        <h3>支出一覧</h3>
        <tr class="bg-secondary text-center">
          <th class="px-2">日付</th>
          <th class="px-2">項目</th>
          <th class="px-2">金額</th>
          <th class="px-2">更新</th>
          <th class="px-2">削除</th>
        </tr>
        <% @expenses.each do |expense| %>
        <% if !expense['expense'].nil? %>
        <div>
          <form action="/mypage" method="post">
            <input type="hidden" name="_method" value="PUT">
            <input type="hidden" id="current_id" name="current_id" value="<%= expense['id'] %>">
            <tr>
              <td><input type="date" id="renewal_date_of_expense" name="renewal_date_of_expense"
                  value="<%= expense['date_of_expense'] %>"></td>
              <td>
                <select id="renewal_expense_type" name="renewal_expense_type">
                  <option label="<%= expense['expense_type'] %>"></option>
                  <option value="家賃">家賃</option>
                  <option value="光熱水費">光熱水費</option>
                  <option value="食費">食費</option>
                  <option value="日用品費">日用品費</option>
                  <option value="医療費">医療費</option>
                  <option value="交通費">交通費</option>
                  <option value="交際費">交際費</option>
                  <option value="美容費">美容費</option>
                  <option value="娯楽費">娯楽費</option>
                  <option value="特別費">特別費</option>
                  <option value="通信費">通信費</option>
                  <option value="返済">返済</option>
                  <option value="学費">学費</option>
                  <option value="教育費">教育費</option>
                  <option value="被服費">被服費</option>
                </select>
              </td>
              <td><input type="number" id="renewal_expense" name="renewal_expense" value="<%= expense['expense'] %>">
              </td>
              <td><input type="submit" value="更新"></td>
          </form>
          <form action="/mypage" method="post">
            <input type="hidden" name="_method" value="DELETE">
            <input type="hidden" id="current_id" name="current_id" value="<%= expense['id'] %>">
            <td><input type="submit" value="削除"></td>
            </tr>
          </form>
        </div>
        <% end %>
        <% end %>
      </div>
    </table>
  </section>

  <aside class="mr-5 ml-2">
    <ul id="list-group" class="list-group">
      <li class="list-group-item list-group-item-primary">メニュー</li>
      <li class="list-group-item list-group-item-dark"><a href="/mbop">収支状況（月間）</a></li>
      <li class="list-group-item list-group-item-dark"><a href="/wbop">収支状況（期間指定）</a></li>
    </ul>
  </aside>
</div>